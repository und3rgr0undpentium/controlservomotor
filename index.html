<!DOCTYPE html>
<html>
<head>
  <title>Servo Control Muhammad Nasri</title>
  <!-- Include the Firebase JavaScript library -->
  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
</head>
<body>
  <h1>Servo Control</h1>
  <button id="lockButton">Lock</button>
  <button id="unlockButton">Unlock</button>

  <script>
    // Initialize Firebase with your project credentials
    var firebaseConfig = {
      apiKey: "AIzaSyB1Ba-HOFJIcLanA6P0lNCx8JFQJg0mFzs",
      authDomain: "smart-cabinet-system.firebaseapp.com",
      databaseURL: "https://smart-cabinet-system-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "smart-cabinet-system",
      storageBucket: "smart-cabinet-system.appspot.com",
      messagingSenderId: "526105614225",
      appId: "1:526105614225:web:ae755c55a3892110c0ec30",
      measurementId: "G-9T8RKHY1QN"
    };
    firebase.initializeApp(firebaseConfig);

    // Get references to the buttons
    var lockButton = document.getElementById('lockButton');
    var unlockButton = document.getElementById('unlockButton');

    // Set up Firebase reference
    var database = firebase.database();
    var servoControlRef = database.ref('servoControl');

    // Add event listeners to the buttons
    lockButton.addEventListener('click', function() {
      servoControlRef.set(0); // Lock position value
    });

    unlockButton.addEventListener('click', function() {
      servoControlRef.set(180); // Unlock position value
    });

    // Function to update the ESP32 when Firebase data changes
    servoControlRef.on('value', function(snapshot) {
      var servoPosition = snapshot.val();
      // Send the servo position data to ESP32 (use appropriate method)
    });
  </script>
</body>
</html>
